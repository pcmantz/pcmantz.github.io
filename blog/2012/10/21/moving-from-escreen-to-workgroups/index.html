
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Moving From Escreen to Workgroups - M.C. Pantz</title>
  <meta name="author" content="Paul C. Mantz">

  
  <meta name="description" content="I use Emacs to manage multiple different projects simultaneously. Every
professional engagement I&rsquo;ve had so far has had me working on multiple &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.mcpantz.org/blog/2012/10/21/moving-from-escreen-to-workgroups">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="M.C. Pantz" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">M.C. Pantz</a></h1>
  
    <h2>Something Bloglike</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.mcpantz.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Moving From Escreen to Workgroups</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-10-21T14:05:00-05:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>21</span><span class='date-suffix'>st</span>, <span class='date-year'>2012</span></span> <span class='time'>2:05 pm</span></time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://www.mcpantz.org">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>I use Emacs to manage multiple different projects simultaneously. Every
professional engagement I&rsquo;ve had so far has had me working on multiple
codebases at once. Add these to this my elisp and Org Mode files, and that&rsquo;s a
lot of frames to have open!</p>

<p>My first attempt at managing multiple projects had the unintended consequence
of holding me back from fully realizing the full potential of Emacs. I ran
<code>emacsclient</code> sessions in GNU Screen for each project I worked on. I could
flip between different frame configurations, each one set up for an individual
project.  This worked well enough that it kept me from running Emacs as a
graphical interface.</p>

<p>Eventually, <a href="http://jrock.us/">Jon Rockway</a> convinced me that I should abandon
command-line emacs and use Emacs as it was intended; as a graphical
application. However, I had developed a dependence on multiplexing in my
workflow that was hard to break. I first tried
<a href="http://www.emacswiki.org/emacs/EmacsLispScreen">Elscreen</a>, which allowed me
to try multiplexing my projects natively in Emacs. However, the default
configuration took up screen real estate and I didn&rsquo;t have the patience to try
and remove it; so I quickly started to look for alternatives.</p>

<h2>Escreen</h2>

<p>The next option I came across was
<a href="http://www.emacswiki.org/emacs/EmacsScreen">escreen</a>. This was better suited
to my workflow, and it used existing resources to manage workspace
switching. Specifically, it embedded the window configurations into the buffer
used to store frame configuration information, which I thought was
ingenious. I was able to configure it so that my transitions between my
constantly open GNU Screen terminal and Emacs was seamless. I would combine
this with matching up the screen numbers per project, which allowed me to
navigate my project transitions with very little mnemonic overhead.</p>

<p>Escreen is an excellent package, but still left a few features wanting.
Specifically, I wanted:</p>

<ul>
<li>Named Workgroups - While matching up terminal numbers goes a long way, it
would be much better if I could give my window configurations meaningful
names.</li>
<li>Persistence - I set my windows up in the same configuration and order, and
reconfiguring emacs takes a while.  The more I can automate that process,
the better.</li>
<li>Active Development - <code>escreen</code> hasn&rsquo;t seen any development in a few years,
and I do not have the time and/or experience to round off the sharp edges.</li>
</ul>


<h2>Workgroups</h2>

<p>A bit of research led me to check out
<a href="http://www.emacswiki.org/emacs/WorkgroupsForWindows">workgroups</a>. Puns aside,
this is an excellent piece of software for managing window configurations. I
was able to install the package from MELPA and configure it close enough to my
<code>escreen</code> configuration so that I haven&rsquo;t been able to functionally notice the
difference. Here is what I have so far:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="c1">;; workgroups</span>
</span><span class='line'><span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;workgroups</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="k">setq</span> <span class="nv">wg-prefix-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-z&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="nv">wg-no-confirm</span> <span class="no">t</span>
</span><span class='line'>      <span class="nv">wg-file</span> <span class="p">(</span><span class="nv">concat</span> <span class="nv">elisp-dir</span> <span class="s">&quot;/workgroups&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="nv">wg-use-faces</span> <span class="no">nil</span>
</span><span class='line'>      <span class="nv">wg-switch-on-load</span> <span class="no">nil</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">wg-load-default</span> <span class="p">()</span>
</span><span class='line'>  <span class="s">&quot;Run `wg-load&#39; on `wg-file&#39;.&quot;</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">wg-load</span> <span class="nv">wg-file</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">wg-save-default</span> <span class="p">()</span>
</span><span class='line'>  <span class="s">&quot;Run `wg-save&#39; on `wg-file&#39;.&quot;</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">when</span> <span class="nv">wg-list</span>
</span><span class='line'>    <span class="p">(</span><span class="nv">with-temp-message</span> <span class="s">&quot;&quot;</span>
</span><span class='line'>      <span class="p">(</span><span class="nv">wg-save</span> <span class="nv">wg-file</span><span class="p">))))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nv">define-key</span> <span class="nv">wg-map</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;g&quot;</span><span class="p">)</span> <span class="ss">&#39;wg-switch-to-workgroup</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nv">define-key</span> <span class="nv">wg-map</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-l&quot;</span><span class="p">)</span> <span class="ss">&#39;wg-load-default</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nv">define-key</span> <span class="nv">wg-map</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-s&quot;</span><span class="p">)</span> <span class="ss">&#39;wg-save-default</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nv">define-key</span> <span class="nv">wg-map</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;&lt;backspace&gt;&quot;</span><span class="p">)</span> <span class="ss">&#39;wg-switch-left</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nv">workgroups-mode</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;auto-save-hook</span> <span class="ss">&#39;wg-save-default</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;kill-emacs-hook</span> <span class="ss">&#39;wg-save-default</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Most of the code here was provided by this Stack Overflow
<a href="http://stackoverflow.com/questions/11263960/what-is-the-best-emacs-workspaces-plugin">post</a>.</p>

<p>So what do I have now?</p>

<ul>
<li><p>I can now switch to workgroups by name! This makes it much easier for me to
name projects and completely forget about matching up numbers. I can still
match up numbers if I want, but why bother?</p></li>
<li><p>I can restore my workgroup list after a restart. This makes it much easier
to reboot and get back to where I left off.</p></li>
<li><p>Re-ordering workgroups is easy and awesome.  Using my configuration, <code>C-z
C-,</code> and <code>C-z C-.</code> will move a workgroup left and right, respectively. This
makes it much easier to arrange things in case something gets out of whack.</p></li>
<li><p>All my key bindings are still the same. I don&rsquo;t have to worry about altering
any of my muscle memory to accommodate for a new workflow; it is just the
same plus more features.</p></li>
</ul>


<h2>The Ugly Remains</h2>

<p><code>workgroups</code> is definitely a much more mature and polished product. Despite
this, <code>escreen</code> was able to dodge a lot of rough edges and rely on Emacs&rsquo;s own
built in abstractions by using the frame buffer to host workgroups that I am
missing with <code>workgroups</code> so far:</p>

<ul>
<li>Per-workgroup switch-buffer lists - With <code>escreen</code>, each workgroup had its
own list of visited buffers.  This meant that my buffer visiting activities
bled into each other less frequently.  It appears that with <code>workgroup</code> that
the visited buffer list is not localized to the workgroup, which is
frustrating.</li>
</ul>


<h2>Final Steps</h2>

<p>Despite the progress, There are a few things left on my to-do list for <code>workgroups</code>.</p>

<ul>
<li><p>Persistent buffers - I haven&rsquo;t yet managed this. The only thing that gets
saved and restored right now are my buffer names.</p></li>
<li><p>Default new workgroups - I would like to have some default behavior when
creating new windows. I name my windows after my projects; if I open a
workgroup <code>foo</code> and there exists a directory <code>$HOME/git/foo</code>, I would like
for the window to have a magit buffer there open to the project, waiting for
me.  If I could get this to work in conjunction with
<a href="https://github.com/jrockway/eproject">eproject</a> or
<a href="https://github.com/bbatsov/projectile">projectile</a>, that would be icing on
the cake.</p></li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Paul C. Mantz</span></span>

      




<time class='entry-date' datetime='2012-10-21T14:05:00-05:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>21</span><span class='date-suffix'>st</span>, <span class='date-year'>2012</span></span> <span class='time'>2:05 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/emacs/'>emacs</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://www.mcpantz.org/blog/2012/10/21/moving-from-escreen-to-workgroups/" data-via="angelixd" data-counturl="http://www.mcpantz.org/blog/2012/10/21/moving-from-escreen-to-workgroups/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/08/01/shell-paths-on-mountain-lion-are-a-confusing-mess/" title="Previous Post: Shell Paths on Mountain Lion are a Confusing Mess">&laquo; Shell Paths on Mountain Lion are a Confusing Mess</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/10/21/moving-from-escreen-to-workgroups/">Moving From Escreen to Workgroups</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/01/shell-paths-on-mountain-lion-are-a-confusing-mess/">Shell Paths on Mountain Lion Are a Confusing Mess</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/24/iterators-make-you-lazy/">Iterators Make You Lazy</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/24/old-domain-new-blog-taste/">Old Domain, New Blog Taste!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/17/yapc-na-post-mortem/">YAPC::NA Post-Mortem</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/pcmantz">@pcmantz</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'pcmantz',
            count: 4,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>My Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll&#8230;</ul>
  <p><a href="http://pinboard.in/u:angelixd">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "angelixd"; //id target for pinboard list
  var pinboard_count = 3; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>


<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/pcmantz@gmail.com?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Paul C. Mantz -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'mcpantz';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.mcpantz.org/blog/2012/10/21/moving-from-escreen-to-workgroups/';
        var disqus_url = 'http://www.mcpantz.org/blog/2012/10/21/moving-from-escreen-to-workgroups/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
